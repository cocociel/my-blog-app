# 推しと学ぶモダンなWEB技術 - 要件定義書

## 1. プロジェクト概要

### 1.1 アプリケーション名
**推しと学ぶモダンなWEB技術**

### 1.2 コンセプト
AI生成したアイドルを題材にTypeScriptやWeb技術を学びアウトプットするブログ×推し紹介サイト

### 1.3 対象ユーザー
- **プライマリ**: Web技術に興味のある開発者・学習者
- **セカンダリ**: AIアイドル「Shiki∞Link」のファン

## 2. システム構成

### 2.1 技術スタック
- **フロントエンド**: Next.js、React.js、TailwindCSS
- **バックエンド**: TypeScript、Node.js
- **データベース**: PostgreSQL（推奨）
  - 理由: 構造化データが多く、将来的な拡張性を考慮
  - 代替案: MySQL、SQLite（開発初期段階）
- **画像ストレージ**: AWS S3 / Cloudinary（推奨）
- **認証**: NextAuth.js（管理者認証用）

### 2.2 推奨インフラ
- **ホスティング**: Vercel / Netlify
- **データベース**: Supabase / PlanetScale
- **画像CDN**: Cloudinary / AWS CloudFront

## 3. 機能要件

### 3.1 ページ構成

#### 3.1.1 トップページ
- **目的**: サイトの紹介とコンテンツへの導線
- **表示内容**:
  - サイト概要
  - 最新ブログ記事（3-5件）
  - Shiki∞Linkメンバー紹介（簡易版）
  - アクセス統計（総記事数、総アクセス数など）

#### 3.1.2 ブログ記事ルーティングページ
- **目的**: 記事の一覧表示と検索
- **機能**:
  - 記事一覧表示（ページネーション）
  - カテゴリタグによる絞り込み検索
  - 記事プレビュー（タイトル、概要、投稿日、カテゴリ）
  - 記事詳細ページへのリンク

#### 3.1.3 ブログ記事詳細ページ
- **機能**:
  - 記事本文表示（Markdown対応）
  - コメント機能
  - いいね機能
  - SNSシェアボタン
  - 関連記事表示
  - カテゴリタグ表示

#### 3.1.4 AIアイドルプロフィールページ
- **目的**: Shiki∞Linkメンバーの詳細情報表示
- **表示内容**:
  - メンバー一覧ページ
  - 個別プロフィールページ
    - 名前、二つ名、年齢、誕生日
    - ポジション、性格、趣味
    - イメージカラー、キャッチフレーズ
    - プロフィール画像
    - 詳細説明

#### 3.1.5 管理ページ
- **目的**: サイト管理とコンテンツ紹介
- **機能**:
  - コンセプト紹介
  - お問い合わせフォーム
  - プライバシーポリシー
  - 利用規約

#### 3.1.6 管理者専用ページ
- **ブログ記事投稿ページ**
  - Markdown エディタ
  - プレビュー機能
  - 下書き保存機能
  - カテゴリタグ設定
  - 公開/非公開設定
- **AIアイドル情報管理ページ**
  - メンバー情報編集
  - 画像アップロード・管理
- **コメント管理ページ**
  - コメント承認/削除
  - スパムフィルタ
- **アクセス解析ダッシュボード**
  - ページビュー統計
  - 人気記事ランキング
  - 流入元分析

### 3.2 データモデル

#### 3.2.1 ブログ記事（Article）
```
- id: UUID
- title: String
- content: Text (Markdown)
- excerpt: String
- status: Enum (draft, published)
- category_tags: JSON Array
- created_at: DateTime
- updated_at: DateTime
- published_at: DateTime
- view_count: Integer
- like_count: Integer
```

#### 3.2.2 AIアイドル（Member）
```
- id: UUID
- name: String
- nickname: String
- age: Integer
- birthday: Date
- position: String
- personality: Text
- hobbies: Text
- image_color: String
- catchphrase: Text
- profile_image_url: String
- created_at: DateTime
- updated_at: DateTime
```

**固定メンバー情報**:
- Haru（ハル）: イメージカラー #F6C6D2（桜色）
- Natsu（ナツ）: イメージカラー #AEE58E（若葉色）
- Aki（アキ）: イメージカラー #F8D774（黄金色）
- Fuyu（フユ）: イメージカラー #A2C4E0（氷色）

#### 3.2.3 コメント（Comment）
```
- id: UUID
- article_id: UUID (FK)
- author_name: String
- email: String
- content: Text
- status: Enum (pending, approved, rejected)
- created_at: DateTime
- updated_at: DateTime
```

#### 3.2.4 いいね（Like）
```
- id: UUID
- article_id: UUID (FK)
- ip_address: String
- created_at: DateTime
```

#### 3.2.5 カテゴリタグ（Category）
```
- id: UUID
- name: String
- slug: String
- description: Text
- color: String
- created_at: DateTime
```

### 3.3 認証・権限管理

#### 3.3.1 管理者認証
- **認証方式**: Email + Password
- **対象**: 管理者（1名）のみ
- **機能**:
  - ログイン/ログアウト
  - セッション管理
  - 管理者専用ページへのアクセス制御

#### 3.3.2 一般ユーザー
- **認証**: 不要
- **機能**:
  - 記事閲覧
  - コメント投稿（名前・メール必須）
  - いいね機能

## 4. 非機能要件

### 4.1 パフォーマンス
- **ページ読み込み時間**: 3秒以内
- **画像最適化**: WebP対応、適切なサイズ変換
- **SEO対応**: SSR/SSG、適切なメタタグ設定

### 4.2 セキュリティ
- **XSS対策**: サニタイゼーション実装
- **CSRF対策**: トークン検証
- **SQL インジェクション対策**: ORM使用
- **画像アップロード**: ファイル形式・サイズ制限

### 4.3 デザイン・カラーシステム

#### 4.3.1 カラーパレット
**ベースカラー（推奨）**:
- **プライマリ**: #1F2937（ダークグレー）
- **セカンダリ**: #6B7280（ミディアムグレー）
- **背景**: #F9FAFB（ライトグレー）
- **カード背景**: #FFFFFF（ホワイト）
- **テキスト**: #111827（ダークグレー）
- **ボーダー**: #E5E7EB（ライトグレー）

**アクセントカラー（メンバー個別）**:
- **Haru**: #F6C6D2（桜色）- 春の暖かみ
- **Natsu**: #AEE58E（若葉色）- 夏の生命力
- **Aki**: #F8D774（黄金色）- 秋の豊かさ
- **Fuyu**: #A2C4E0（氷色）- 冬の清涼感

#### 4.3.2 カラー使用方針
- **基本構成**: 白ベース（#F9FAFB）のクリーンなデザイン
- **メンバーカラー使用箇所**:
  - プロフィールページのアクセント
  - 記事カテゴリタグ（技術分野別にメンバーカラー割り当て）
  - アイコン・ボタンのホバーエフェクト
  - グラフ・チャートの色分け（アクセス解析）
- **可読性重視**: 背景色とテキストのコントラスト比 4.5:1 以上を維持

#### 4.3.3 ダークモード対応（将来的）
- **背景**: #0F172A（ダークネイビー）
- **カード背景**: #1E293B（ダークグレー）
- **テキスト**: #F1F5F9（ライトグレー）
- **メンバーカラー**: 透明度を調整して目に優しく調整

### 4.4 レスポンシブデザイン
- **対応デバイス**: PC、タブレット、スマートフォン
- **ブレークポイント**: TailwindCSSの標準設定に準拠

### 4.5 アクセシビリティ
- **WCAG 2.1 AA レベル**: 基本的な対応
- **キーボード操作**: 対応
- **スクリーンリーダー**: 対応

## 5. 開発フェーズ

### 5.1 Phase 1（MVP）
- 基本的なブログ機能
- AIアイドルプロフィール表示
- 管理者認証・記事投稿機能
- アクセス解析機能

### 5.2 Phase 2（機能拡張）
- コメント・いいね機能
- 検索・フィルタリング機能

### 5.3 Phase 3（体験向上）
- SNSシェア機能
- パフォーマンス最適化
- SEO強化

## 6. 今後の拡張性

### 6.1 将来的に検討可能な機能
- メンバー投票・ランキング機能
- ユーザー登録・マイページ機能
- Push通知機能
- 多言語対応
- API公開

### 6.2 技術的な拡張性
- マイクロサービス化
- CDN導入
- キャッシュ戦略強化
- 負荷分散

## 7. 留意事項

### 7.1 コンテンツ方針
- 技術学習が主目的であることを明確化
- AIアイドルはあくまで学習の題材として位置づけ
- 健全なコミュニティ運営を心がける

### 7.2 運用方針
- 定期的なセキュリティアップデート
- バックアップ戦略の策定
- モニタリング・アラート設定

---

**作成日**: 2025年7月5日  
**バージョン**: 1.0  
**作成者**: システム設計チーム